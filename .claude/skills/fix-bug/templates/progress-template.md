# {バグ名} - プロセス進捗

**コマンド**: /fix-bug
**開始日時**: {YYYY-MM-DD HH:mm}
**現在フェーズ**: Phase 1
**PR分割**: 大規模（200行超） | 小規模（〜200行）
<!-- 現在フェーズの更新: Phase 1 → Phase 2 → Phase 3 → Phase 4 → 完了 -->

---

## Phase 1: バグ情報収集

- [ ] Step 1: バグの症状ヒアリング完了
  - [ ] バグの症状を確認
  - [ ] 再現手順を確認
  - [ ] 期待動作を確認
  - [ ] 実際の動作を確認
- [ ] Step 2: ステアリングディレクトリの作成
  - [ ] ディレクトリ作成
  - [ ] progress.md 作成
  - [ ] investigation.md 作成
  - [ ] 「バグ概要」「再現手順」「期待動作 vs 実際の動作」セクション記入
- [ ] Step 3: 影響度と環境の確認
  - [ ] 影響度（Critical/High/Medium/Low）を確認
  - [ ] 発生環境（ブラウザ/OS）を確認
  - [ ] 本番/開発環境の確認
  - [ ] investigation.md「発生環境」セクション更新

### 🚀 ブランチ準備（大規模修正の場合）
- [ ] リリースブランチ作成: `release/fix-{バグ名}`
- [ ] 調査用ブランチ作成: `feature/fix-{バグ名}/investigation`

---

## Phase 2: 原因調査

- [ ] Step 4: コードベース調査
  - [ ] 🔍 file-finder エージェント実行（独立コンテキスト）
  - [ ] investigation.md「原因分析」セクション記入
- [ ] Step 5: 影響範囲分析
  - [ ] 🔍 impact-analyzer エージェント実行（独立コンテキスト）
  - [ ] investigation.md「影響範囲」セクション記入
  - [ ] ステータスを「原因特定済み」に変更
- [ ] Step 6: 修正計画の策定
  - [ ] 修正方針を検討
  - [ ] テスト計画を検討
  - [ ] ロールバック計画を検討
  - [ ] fix-plan.md 作成

---

## Phase 3: 実装計画

- [ ] Step 7: タスクリストの作成
  - [ ] 修正タイプ（A/B/C/D/E）を確認
  - [ ] 該当テンプレートで tasklist.md 作成
- [ ] Step 8: 最終確認
  - [ ] サマリーを表示
  - [ ] 修正開始の確認

### 📝 調査PR作成（大規模修正の場合）
- [ ] 調査ドキュメントをコミット・プッシュ
- [ ] `gh pr create` で調査PRを作成
- [ ] PR URL: #___

---

## Phase 4: 実装・検証

- [ ] Step 9: [オプション] リグレッションテスト作成（TDD）
  - [ ] TDD使用有無を決定
  - [ ] 🔴 バグ再現テスト作成（TDD使用時）
  - [ ] テストが失敗することを確認（TDD使用時）
- [ ] Step 10: 実装
  - [ ] tasklist.md に従って実装
  - [ ] 🟢 テストがパスすることを確認（TDD使用時）
  - [ ] 🔵 必要に応じてリファクタリング
  - [ ] 各タスク完了時にチェック
- [ ] Step 11: ビルド確認
  - [ ] 🔧 build-executor エージェント実行（独立コンテキスト）
  - [ ] エラーがあれば修正
- [ ] Step 12: テスト・Lint
  - [ ] 🧪 test-runner エージェント実行（独立コンテキスト）
  - [ ] エラー・警告を解消
- [ ] Step 13: コードレビュー
  - [ ] 🔍 code-reviewer エージェント実行（独立コンテキスト）
  - [ ] Critical Issues を解消
- [ ] Step 14: セキュリティチェック
  - [ ] 🔒 security-checker エージェント実行（独立コンテキスト）
  - [ ] 脆弱性があれば修正
- [ ] Step 15: ドキュメント整合性
  - [ ] 📝 review-docs エージェント実行（独立コンテキスト）
  - [ ] 関連ドキュメントを更新

### 🐛 修正PR作成
- [ ] 修正内容をコミット・プッシュ
- [ ] `gh pr create` で修正PRを作成
- [ ] PR URL: #___

### 🚀 リリースPR作成（大規模修正の場合）
- [ ] `gh pr create` でリリースPRを作成（→ main）
- [ ] PR URL: #___

---

## 生成されたファイル

- [ ] investigation.md（Step 2 で作成、Step 3-5 で更新）
- [ ] fix-plan.md（Step 6 で作成）
- [ ] tasklist.md（Step 7 で作成）

---

## PR一覧

### 小規模修正（〜200行）の場合
| PR | ブランチ | ベース | URL |
|----|----------|--------|-----|
| 修正 | fix/{バグ名} | main | #___ |

### 大規模修正（200行超）の場合
| PR | ブランチ | ベース | URL |
|----|----------|--------|-----|
| 調査 | feature/fix-{バグ名}/investigation | release/fix-{バグ名} | #___ |
| 修正 | feature/fix-{バグ名}/implementation | release/fix-{バグ名} | #___ |
| リリース | release/fix-{バグ名} | main | #___ |

---

## 備考

<!-- 中断時の状況や次回再開時の注意点をここに記録 -->
